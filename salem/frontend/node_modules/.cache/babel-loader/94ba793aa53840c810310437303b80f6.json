{"ast":null,"code":"import _defineProperty from \"/home/files/hybrid_pojects/SALEM/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport { ADD_REGLEMENTS, FETCH_REGLEMENTS, UPDATE_REGLEMENTS } from '../Actions/typesReglement';\nimport { urlHeader } from '../Actions/config';\nconst initState = {\n  dataReglements: [// {\n    // \tNumReglement:1,\n    // \tMontantReglement: 30000,\n    // \tEtatReglement: \"1\",\n    // \tAnneeReglement: \"2019\"\n    // }\n  ]\n};\n\nconst ReglementsReducers = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_REGLEMENTS:\n      const std = [_objectSpread({}, action.data)];\n      const act = [action.data];\n      console.log(\"ADD_REGLEMENTS\");\n      console.log(act);\n      axios.post(urlHeader + \"Reglements/post\", action.data //,{\n      //    headers: {\n      //    'Content-Type': 'application/x-www-form-urlencoded',\n      //    'Access-Control-Allow-Methods': 'POST,GET,HEAD,OPTIONS,PUT,DELETE'\n      //    }\n      //  }\n      ).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n      state.dataReglements = [...state.dataReglements, std[0]];\n      return Object.assign({}, state, state.dataReglements);\n\n    case FETCH_REGLEMENTS:\n      state.dataReglements = [];\n      state.dataReglements = [...action.data];\n      return Object.assign({}, state, state.dataReglements);\n\n    case UPDATE_REGLEMENTS:\n      // console.log(action.data)\n      if (action.data !== null) {\n        const std1 = state.dataReglements.filter(e => {\n          return e.numReglement !== action.data[0].numReglement;\n        });\n        const sto1 = action.data;\n        state.dataReglements = [...std1, ...sto1];\n        console.log(_objectSpread({}, sto1));\n        axios.post(urlHeader + \"Reglements/put/\" + action.data[0].numReglement, sto1).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      }\n\n      return Object.assign({}, state, state.dataReglements);\n\n    default:\n      return state;\n  }\n};\n\nexport default ReglementsReducers;","map":{"version":3,"sources":["/home/files/hybrid_pojects/SALEM/frontend/src/reducers/ReglementReducers.js"],"names":["axios","ADD_REGLEMENTS","FETCH_REGLEMENTS","UPDATE_REGLEMENTS","urlHeader","initState","dataReglements","ReglementsReducers","state","action","type","std","data","act","console","log","post","then","h","catch","err","Object","assign","std1","filter","e","numReglement","sto1"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,cAAR,EAAwBC,gBAAxB,EAA0CC,iBAA1C,QAAkE,2BAAlE;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AAEA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,cAAc,EAAE,CACf;AACA;AACA;AACA;AACA;AACA;AANe;AADC,CAAlB;;AAWA,MAAMC,kBAAkB,GAAG,CAACC,KAAK,GAAGH,SAAT,EAAoBI,MAApB,KAA+B;AACzD,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKT,cAAL;AACC,YAAMU,GAAG,GAAG,mBACRF,MAAM,CAACG,IADC,EAAZ;AAGA,YAAMC,GAAG,GAAG,CAACJ,MAAM,CAACG,IAAR,CAAZ;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAEAb,MAAAA,KAAK,CAACgB,IAAN,CACCZ,SAAS,GAAC,iBADX,EAECK,MAAM,CAACG,IAFR,CAGC;AACI;AACA;AACA;AACA;AACA;AARL,QASEK,IATF,CASOC,CAAC,IAAIJ,OAAO,CAACC,GAAR,CAAYG,CAAZ,CATZ,EAS4BC,KAT5B,CASkCC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCK,GAAhC,CATzC;AAUAZ,MAAAA,KAAK,CAACF,cAAN,GAAuB,CACtB,GAAGE,KAAK,CAACF,cADa,EACGK,GAAG,CAAC,CAAD,CADN,CAAvB;AAGA,aAAOU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AACD,SAAKJ,gBAAL;AACCM,MAAAA,KAAK,CAACF,cAAN,GAAuB,EAAvB;AACCE,MAAAA,KAAK,CAACF,cAAN,GAAuB,CACrB,GAAGG,MAAM,CAACG,IADW,CAAvB;AAGA,aAAOS,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AAEF,SAAKH,iBAAL;AACC;AACA,UAAGM,MAAM,CAACG,IAAP,KAAgB,IAAnB,EAAwB;AACvB,cAAMW,IAAI,GAAGf,KAAK,CAACF,cAAN,CAAqBkB,MAArB,CAA4BC,CAAC,IAAI;AAC7C,iBAAOA,CAAC,CAACC,YAAF,KAAmBjB,MAAM,CAACG,IAAP,CAAY,CAAZ,EAAec,YAAzC;AACA,SAFY,CAAb;AAGA,cAAMC,IAAI,GAAGlB,MAAM,CAACG,IAApB;AACAJ,QAAAA,KAAK,CAACF,cAAN,GAAuB,CACtB,GAAGiB,IADmB,EAEtB,GAAGI,IAFmB,CAAvB;AAIAb,QAAAA,OAAO,CAACC,GAAR,mBAAgBY,IAAhB;AACA3B,QAAAA,KAAK,CAACgB,IAAN,CAAWZ,SAAS,GAAC,iBAAV,GAA8BK,MAAM,CAACG,IAAP,CAAY,CAAZ,EAAec,YAAxD,EACAC,IADA,EAEEV,IAFF,CAEQQ,CAAD,IAAOX,OAAO,CAACC,GAAR,CAAYU,CAAZ,CAFd,EAE8BN,KAF9B,CAEoCC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCK,GAAhC,CAF3C;AAGC;;AAGF,aAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AAED;AACC,aAAOE,KAAP;AAnDF;AAqDA,CAtDD;;AAwDA,eAAeD,kBAAf","sourcesContent":["import axios from 'axios';\nimport {ADD_REGLEMENTS, FETCH_REGLEMENTS, UPDATE_REGLEMENTS} from '../Actions/typesReglement';\nimport {urlHeader} from '../Actions/config';\n\nconst initState = {\n\tdataReglements: [\n\t\t// {\n\t\t// \tNumReglement:1,\n\t\t// \tMontantReglement: 30000,\n\t\t// \tEtatReglement: \"1\",\n\t\t// \tAnneeReglement: \"2019\"\n\t\t// }\n\t]\n}\n\nconst ReglementsReducers = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_REGLEMENTS:\n\t\t\tconst std = [{\n\t\t\t\t...action.data\n\t\t\t}]\n\t\t\tconst act = [action.data];\n\t\t\tconsole.log(\"ADD_REGLEMENTS\")\n\t\t\tconsole.log(act);\n\n\t\t\taxios.post(\n\t\t\t\turlHeader+\"Reglements/post\",\n\t\t\t\taction.data\n\t\t\t\t//,{\n        //    headers: {\n        //    'Content-Type': 'application/x-www-form-urlencoded',\n        //    'Access-Control-Allow-Methods': 'POST,GET,HEAD,OPTIONS,PUT,DELETE'\n        //    }\n        //  }\n\t\t\t).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\tstate.dataReglements = [\n\t\t\t\t...state.dataReglements, std[0]\n\t\t\t];\n\t\t\treturn Object.assign({}, state, state.dataReglements);\n\t\tcase FETCH_REGLEMENTS:\n\t\t\tstate.dataReglements = [];\n\t\t  state.dataReglements = [\n\t\t    ...action.data\n\t\t  ];\n\t\t  return Object.assign({}, state, state.dataReglements);\n\n\t\tcase UPDATE_REGLEMENTS:\n\t\t\t// console.log(action.data)\n\t\t\tif(action.data !== null){\n\t\t\t\tconst std1 = state.dataReglements.filter(e => {\n\t\t\t\t\treturn e.numReglement !== action.data[0].numReglement;\n\t\t\t\t});\n\t\t\t\tconst sto1 = action.data;\n\t\t\t\tstate.dataReglements = [\n\t\t\t\t\t...std1,\n\t\t\t\t\t...sto1\n\t\t\t\t];\n\t\t\t\tconsole.log({...sto1})\n\t\t\t\taxios.post(urlHeader+\"Reglements/put/\" + action.data[0].numReglement,\n\t\t\t\tsto1\n\t\t\t\t).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\t\t}\n\n\n\t\t\treturn Object.assign({}, state, state.dataReglements);\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default ReglementsReducers;\n"]},"metadata":{},"sourceType":"module"}