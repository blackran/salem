{"ast":null,"code":"var _jsxFileName = \"/home/files/hybrid_pojects/SALEM/frontend/src/Components/Clients/ChambresDetails/layouts/AnnexChambresDetails/layouts/ChambreCardPattern/layouts/GAlertDialogSlide/GAlertDialogSlide.js\";\nimport React from 'react';\nimport { Button, Fab, Slide, Dialog, DialogActions, DialogContent, DialogTitle, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons/';\nimport { connect } from 'react-redux';\nimport shortid from 'shortid';\nimport AlertConfirmationReservation from './layouts/AlertConfirmationReservation';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }));\n});\n\nclass AlertDialogSlide extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      NumClient: \"\",\n      ConditionReservation: \"\",\n      error: false\n    };\n    this.date1 = this.props.date1;\n    this.date2 = this.props.date2;\n  }\n\n  OnChange(e) {\n    this.setState({\n      NumClient: e.target.value\n    });\n    const stock = this.props.clients.dataClients.filter(function (h) {\n      return h.numClient === e.target.value;\n    });\n  }\n\n  OnChangePress(e) {\n    if (stock.length !== 0) {\n      this.setState({\n        error: false\n      });\n      this.props.updateNameClient(stock[0].nomClient);\n    } else {\n      this.props.updateNameClient(\"\");\n      this.setState({\n        error: true\n      });\n    }\n  }\n\n  handleClickOpen() {\n    this.setState({\n      open: true\n    });\n    this.props.updateNameClient(\"\");\n    this.setState({\n      ConditionReservation: \"\"\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      open: false\n    }); //this.date2 = \"\";\n    //this.date1 = \"\";\n\n    this.props.updateNameClient(\"\");\n    this.setState({\n      ConditionReservation: \"\"\n    });\n  }\n\n  dataReserver() {\n    const StockNumReglement = shortid.generate(); // const prix = props.chambres.dataChambres.filter(e=>{\n    //   return e.NomChambre === NomChambre;\n    // })[0].PrixChambre;\n\n    const st = {\n      numReglement: StockNumReglement,\n      // MontantReglement: parseInt(prix) * (Math.round((date2 - date1) / (1000 * 3600 * 24))),\n      montantReglement: 0,\n      etatReglement: \"0\",\n      anneeReglement: new Date().getFullYear().toString()\n    };\n    const stock = {\n      numReservation: shortid.generate(),\n      dateDebutReservation: this.formattedDateDatabase(this.date1),\n      dateFinReservation: this.formattedDateDatabase(this.date2),\n      nbJourReservation: Math.round((this.date2 - this.date1) / (1000 * 3600 * 24)),\n      conditionReservation: this.state.ConditionReservation,\n      numClient: this.state.NumClient,\n      numReglement: StockNumReglement\n    };\n    return [st, stock];\n  }\n\n  formattedDate(d) {\n    let month = String(d.getMonth() + 1);\n    let day = String(d.getDate());\n    const year = String(d.getFullYear());\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n    return \"\".concat(day, \"/\").concat(month, \"/\").concat(year);\n  }\n\n  formattedDateDatabase(d) {\n    let month = String(d.getMonth() + 1);\n    let day = String(d.getDate());\n    const year = String(d.getFullYear());\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n    return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n  }\n\n  OnChangeConditionReservation(e) {\n    this.setState({\n      ConditionReservation: e.target.value\n    });\n  }\n\n  OnClickAddClient(e) {\n    var stock = this.props.clients.dataClients.filter(e => {\n      return e.NomClient === this.props.clients.changes.NomClient;\n    }).length === 0;\n\n    if (stock) {\n      this.props.addClients();\n      var client = this.props.clients.dataClients.filter(e => {\n        return e.NomClient === this.props.clients.changes.NomClient;\n      })[0].NumClient;\n      this.setState({\n        NumClient: client\n      });\n    } else {\n      alert(\"name already exist\");\n    }\n  }\n\n  OnChangeNameClients(e) {\n    this.props.onChangeClient(e.target);\n  }\n\n  render() {\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      color: \"primary\",\n      variant: \"extended\",\n      size: \"small\",\n      \"aria-label\": \"delete\",\n      className: \"addReservation\",\n      onClick: this.handleClickOpen.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Add, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), \"reserver\"), \" \", React.createElement(Dialog, {\n      open: this.state.open,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: this.handleClose.bind(this),\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      id: \"alert-dialog-slide-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Reservation chambres\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"NOM CHAMBRE\",\n      placeholder: \"Example\",\n      margin: \"normal\",\n      name: \"pseudo\",\n      value: this.props.NomChambre,\n      style: {\n        width: 140\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"DATE DEBUT\",\n      placeholder: \"Example\",\n      margin: \"normal\",\n      name: \"pseudo\",\n      value: this.formattedDate(this.props.date1),\n      style: {\n        width: 120\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), \" \", React.createElement(TextField, {\n      label: \"DATE FIN\",\n      placeholder: \"Example\",\n      margin: \"normal\",\n      name: \"pseudo\",\n      value: this.formattedDate(this.props.date2),\n      style: {\n        width: 120\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"JOURS\",\n      placeholder: \"Example\",\n      margin: \"normal\",\n      name: \"pseudo\",\n      value: Math.round((this.props.date2 - this.props.date1) / (1000 * 3600 * 24)),\n      style: {\n        width: 50,\n        marginLeft: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"N\\xB0\",\n      placeholder: \"1\",\n      margin: \"normal\",\n      name: \"NumClient\",\n      style: {\n        width: 100\n      },\n      value: this.state.NumClient,\n      onChange: this.OnChange.bind(this),\n      onKeyDown: ev => ev.key === 'Enter' && this.OnChangePress(ev),\n      error: this.state.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), \" \", React.createElement(TextField, {\n      label: \"Votre nom\",\n      placeholder: \"persone\",\n      margin: \"normal\",\n      name: \"NomClient\",\n      value: this.props.clients.changes.NomClient,\n      onChange: this.OnChangeNameClients.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), \" \", React.createElement(Button, {\n      variant: \"outlined\",\n      style: {\n        position: 'relative',\n        top: 30,\n        padding: 5,\n        minWidth: 35\n      },\n      onClick: this.OnClickAddClient.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Add, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"outlined-multiline-flexible\",\n      label: \"Remarque\",\n      multiline: true,\n      rowsMax: \"4\",\n      margin: \"normal\",\n      helperText: \"votre petit remarque ici ...\",\n      variant: \"outlined\",\n      value: this.state.ConditionReservation,\n      onChange: this.OnChangeConditionReservation.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(AlertConfirmationReservation, {\n      handleClose: () => this.handleClose.bind(this),\n      NomChambre: this.props.NomChambre,\n      dataReserver: this.dataReserver(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.handleClose.bind(this),\n      color: \"primary\",\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Cancel\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    clients: state.clients,\n    chambres: state.chambres\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addClients: () => {\n      dispatch({\n        type: \"ADD_CLIENTS\"\n      });\n    },\n    onChangeClient: data => {\n      dispatch({\n        type: \"ON_CHANGE_CLIENT\",\n        data\n      });\n    },\n    updateNameClient: data => {\n      dispatch({\n        type: \"UPDATE_NAME_CLIENT\",\n        data\n      });\n    },\n    addReservation: data => {\n      dispatch({\n        type: \"ADD_RESERVER\",\n        data\n      });\n    },\n    addReglement: data => {\n      dispatch({\n        type: \"ADD_REGLEMENT\",\n        data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlertDialogSlide);","map":{"version":3,"sources":["/home/files/hybrid_pojects/SALEM/frontend/src/Components/Clients/ChambresDetails/layouts/AnnexChambresDetails/layouts/ChambreCardPattern/layouts/GAlertDialogSlide/GAlertDialogSlide.js"],"names":["React","Button","Fab","Slide","Dialog","DialogActions","DialogContent","DialogTitle","TextField","Add","connect","shortid","AlertConfirmationReservation","Transition","forwardRef","props","ref","AlertDialogSlide","Component","constructor","state","open","NumClient","ConditionReservation","error","date1","date2","OnChange","e","setState","target","value","stock","clients","dataClients","filter","h","numClient","OnChangePress","length","updateNameClient","nomClient","handleClickOpen","handleClose","dataReserver","StockNumReglement","generate","st","numReglement","montantReglement","etatReglement","anneeReglement","Date","getFullYear","toString","numReservation","dateDebutReservation","formattedDateDatabase","dateFinReservation","nbJourReservation","Math","round","conditionReservation","formattedDate","d","month","String","getMonth","day","getDate","year","OnChangeConditionReservation","OnClickAddClient","NomClient","changes","addClients","client","alert","OnChangeNameClients","onChangeClient","render","bind","NomChambre","width","marginLeft","ev","key","position","top","padding","minWidth","mapStateToProps","chambres","mapDispatchToProps","dispatch","type","data","addReservation","addReglement"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Button,\n  Fab,\n  Slide,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField\n} from '@material-ui/core';\nimport {Add} from '@material-ui/icons/';\nimport {connect} from 'react-redux';\nimport shortid from 'shortid';\nimport AlertConfirmationReservation from './layouts/AlertConfirmationReservation';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props}/>;\n});\n\nclass AlertDialogSlide extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      NumClient: \"\",\n      ConditionReservation: \"\",\n      error: false\n    }\n    this.date1 = this.props.date1;\n    this.date2 = this.props.date2;\n  }\n\n  OnChange(e) {\n    this.setState({\n      NumClient: e.target.value\n    })\n    const stock = this.props.clients.dataClients.filter(function(h){\n      return h.numClient === e.target.value;\n    });\n  }\n\n  OnChangePress (e){\n      if(stock.length!==0){\n          this.setState({\n              error: false\n          })\n          this.props.updateNameClient(stock[0].nomClient);\n      }else{\n          this.props.updateNameClient(\"\");\n          this.setState({\n              error: true\n          })\n      }\n  }\n\n  handleClickOpen() {\n    this.setState({\n      open: true\n    })\n    this.props.updateNameClient(\"\");\n    this.setState({\n      ConditionReservation: \"\"\n    })\n  }\n\n  handleClose() {\n    this.setState({\n      open: false\n    })\n    //this.date2 = \"\";\n    //this.date1 = \"\";\n    this.props.updateNameClient(\"\");\n    this.setState({\n      ConditionReservation: \"\"\n    })\n  }\n\n  dataReserver() {\n    const StockNumReglement = shortid.generate();\n    // const prix = props.chambres.dataChambres.filter(e=>{\n    //   return e.NomChambre === NomChambre;\n    // })[0].PrixChambre;\n    const st = {\n  \t\t\tnumReglement: StockNumReglement,\n  \t\t\t// MontantReglement: parseInt(prix) * (Math.round((date2 - date1) / (1000 * 3600 * 24))),\n  \t\t\tmontantReglement: 0,\n  \t\t\tetatReglement: \"0\",\n  \t\t\tanneeReglement: new Date().getFullYear().toString()\n    }\n    const stock = {\n      numReservation: shortid.generate(),\n      dateDebutReservation: this.formattedDateDatabase(this.date1),\n      dateFinReservation: this.formattedDateDatabase(this.date2),\n      nbJourReservation: Math.round((this.date2 - this.date1) / (1000 * 3600 * 24)),\n      conditionReservation: this.state.ConditionReservation,\n      numClient: this.state.NumClient,\n      numReglement: StockNumReglement\n    }\n    return ([st, stock]);\n  }\n\n\n  formattedDate(d) {\n    let month = String(d.getMonth() + 1);\n    let day = String(d.getDate());\n    const year = String(d.getFullYear());\n\n    if (month.length < 2)\n      month = '0' + month;\n    if (day.length < 2)\n      day = '0' + day;\n\n    return `${day}/${month}/${year}`;\n  }\n\n  formattedDateDatabase(d) {\n    let month = String(d.getMonth() + 1);\n    let day = String(d.getDate());\n    const year = String(d.getFullYear());\n\n    if (month.length < 2)\n      month = '0' + month;\n    if (day.length < 2)\n      day = '0' + day;\n\n    return `${year}-${month}-${day}`;\n  }\n  OnChangeConditionReservation(e) {\n    this.setState({\n      ConditionReservation: e.target.value\n    })\n  }\n\n  OnClickAddClient(e){\n    var stock = this.props.clients.dataClients.filter(e=>{\n      return e.NomClient === this.props.clients.changes.NomClient;\n    }).length === 0;\n    if(stock){\n      this.props.addClients();\n      var client = this.props.clients.dataClients.filter(e=>{\n        return e.NomClient === this.props.clients.changes.NomClient;\n      })[0].NumClient;\n      this.setState({\n        NumClient: client\n      })\n    }else{\n      alert(\"name already exist\")\n    }\n  }\n\n  OnChangeNameClients(e){\n    this.props.onChangeClient(e.target);\n  }\n  render(){\n  return (<span>\n    <Fab color='primary' variant=\"extended\" size='small' aria-label=\"delete\" className='addReservation' onClick={this.handleClickOpen.bind(this)}>\n      <Add/>\n      reserver\n    </Fab>{\" \"}\n    <Dialog open={this.state.open} TransitionComponent={Transition} keepMounted={true} onClose={this.handleClose.bind(this)} aria-labelledby=\"alert-dialog-slide-title\" aria-describedby=\"alert-dialog-slide-description\">\n      <DialogTitle id=\"alert-dialog-slide-title\">{\"Reservation chambres\"}</DialogTitle>\n      <DialogContent>\n        <TextField label=\"NOM CHAMBRE\" placeholder=\"Example\" margin=\"normal\" name=\"pseudo\" value={this.props.NomChambre} style={{width: 140}}/>\n        <br/>\n        <TextField label=\"DATE DEBUT\" placeholder=\"Example\" margin=\"normal\" name=\"pseudo\" value={this.formattedDate(this.props.date1)} style={{width: 120}}/>{\" \"}\n        <TextField label=\"DATE FIN\" placeholder=\"Example\" margin=\"normal\" name=\"pseudo\" value={this.formattedDate(this.props.date2)} style={{width: 120}}/>\n        <TextField\n          label=\"JOURS\"\n          placeholder=\"Example\"\n          margin=\"normal\"\n          name=\"pseudo\"\n          value={Math.round((this.props.date2 - this.props.date1) / (1000 * 3600 * 24))}\n          style={{width: 50, marginLeft: 20}}\n        /><br/>\n\n        <TextField\n          label=\"N°\"\n          placeholder=\"1\"\n          margin=\"normal\"\n          name=\"NumClient\"\n          style={{width: 100}}\n          value={this.state.NumClient}\n          onChange={this.OnChange.bind(this)}\n          onKeyDown={ev => ev.key === 'Enter' && this.OnChangePress(ev) }\n          error={this.state.error}\n        />{\" \"}\n        <TextField label=\"Votre nom\" placeholder=\"persone\" margin=\"normal\" name=\"NomClient\" value={this.props.clients.changes.NomClient} onChange={this.OnChangeNameClients.bind(this)}/>{\" \"}\n        <Button\n          variant=\"outlined\"\n          style={{position: 'relative',top:30, padding:5, minWidth: 35}}\n          onClick={this.OnClickAddClient.bind(this)}>\n          <Add/>\n        </Button>\n        <br/>\n\n        <TextField id=\"outlined-multiline-flexible\" label=\"Remarque\" multiline={true} rowsMax=\"4\" margin=\"normal\" helperText=\"votre petit remarque ici ...\" variant=\"outlined\" value={this.state.ConditionReservation} onChange={this.OnChangeConditionReservation.bind(this)}/>\n        <br/>\n\n      </DialogContent>\n      <DialogActions>\n        <AlertConfirmationReservation\n          handleClose = {() =>\n            this.handleClose.bind(this)\n          }\n          NomChambre = {\n            this.props.NomChambre\n          }\n          dataReserver = {\n            this.dataReserver()\n          }\n        />\n\n        <Button onClick={this.handleClose.bind(this)} color=\"primary\" variant='outlined'>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </span>);\n  }\n}\nconst mapStateToProps = state => {\n\treturn {clients: state.clients, chambres: state.chambres}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n    addClients: () => {\n      dispatch({type: \"ADD_CLIENTS\"});\n    },\n    onChangeClient: (data) => {\n      dispatch({type: \"ON_CHANGE_CLIENT\", data});\n    },\n    updateNameClient: (data) => {\n      dispatch({type: \"UPDATE_NAME_CLIENT\", data});\n    },\n    addReservation: (data) => {\n      dispatch({type: \"ADD_RESERVER\", data});\n    },\n    addReglement: (data) => {\n      dispatch({type: \"ADD_REGLEMENT\", data});\n    },\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlertDialogSlide);\n"]},"metadata":{},"sourceType":"module"}