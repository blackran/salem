(window.webpackJsonptestmaterial=window.webpackJsonptestmaterial||[]).push([[4],{488:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(12),s=n(17),i=n(18),o=n(19),c=(n(488),n(462)),u=n(15),p=n.n(u),h=n(0),l=n.n(h),m=n(23),f=n(16),d=Object(h.lazy)(function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,492))}),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o))))._isMounted=!1,n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"getChambrePrix",value:function(){var e=this,t=this.props.reserver.dataReserver.filter(function(t){var n=new Date(t.dateDebutReservation),r=new Date(t.dateFinReservation),a=e.props.reserver.date1,s=e.props.reserver.date2,i=n-a,o=r-s,c=!1;return(i>0&&o<0||i>0&&o>0&&s-n>0||i<0&&o>0||i<0&&o<0&&a-r<0)&&(c=!0),c}).map(function(e){return e.numReservation}),n=this.props.concerner.dataConcerner.filter(function(e){return t.includes(e.numReservation)}).map(function(e){return e.nomChambre});return this.props.chambres.newDataChambres.filter(function(t){return parseInt(t.prixChambre)<=parseInt(e.props.chambres.slide)&&!n.includes(t.nomChambre)})}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,0===this.props.chambres.newDataChambres.length&&p.a.get(f.a+"Chambres/get").then(function(e){return e.data}).then(function(t){return e.props.newDataChambres(t.filter(function(t){return t.numType===parseInt(e.props.types)}))}).catch(function(e){return console.log("error parsing:\n",e)}),0===this.props.reserver.dataReserver.length&&p.a.get(f.a+"Reservation/get").then(function(e){return e.data}).then(function(t){return e.props.fetchReserver(t)}).catch(function(e){return console.log("error parsing:\n",e)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.props.newDataChambres([])}},{key:"render",value:function(){return l.a.createElement("div",{className:"AllListChambre"},l.a.createElement(h.Suspense,{fallback:l.a.createElement("div",{style:{position:"relative",top:100}}," ",l.a.createElement(c.a,{className:"loading"}))},0!==this.getChambrePrix().length?this.getChambrePrix().map(function(e,t){return l.a.createElement("div",{key:e.nomChambre},l.a.createElement(d,{data:e,delay:t,key:e.nomChambre}))}):l.a.createElement("h1",{style:{position:"relative",top:100}},"Ces types de chambres n'existent pas chez nous")))}}]),t}(h.Component);t.default=Object(m.b)(function(e){return{chambres:e.chambres,reserver:e.reserver,concerner:e.concerner,clients:e.clients}},function(e){return{updateOne:function(t){e({type:"UPDATE_ONE",data:t})},updateEroor:function(t){e({type:"UPDATE_EROOR",data:t})},fetchchambres:function(t){e({type:"FETCH_CHAMBRES",data:t})},updateSlide:function(t){e({type:"ON_CHANGE_SLIDER",data:t})},updateDate1:function(t){e({type:"UPDATE_DATE_1",data:t})},updateDate2:function(t){e({type:"UPDATE_DATE_2",data:t})},fetchClients:function(t){e({type:"FETCH_CLIENTS",data:t})},newDataChambres:function(t){e({type:"NEW_DATA_CHAMBRES",data:t})},fetchReserver:function(t){e({type:"FETCH_RESERVER",data:t})}}})(b)}}]);
//# sourceMappingURL=4.057c3d16.chunk.js.map