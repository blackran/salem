{"ast":null,"code":"import _defineProperty from \"/home/files/hybrid_pojects/SALEM/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport { ADD_REGLEMENTS, FETCH_REGLEMENTS, UPDATE_REGLEMENTS } from '../Actions/typesReglement';\nimport { urlHeader } from '../Actions/config';\nconst initState = {\n  dataReglements: [// {\n    // \tNumReglement:1,\n    // \tMontantReglement: 30000,\n    // \tEtatReglement: \"1\",\n    // \tAnneeReglement: \"2019\"\n    // }\n  ]\n};\n\nconst ReglementsReducers = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_REGLEMENTS:\n      console.log('ADD_REGLEMENTS');\n      console.log(action.data);\n      const std = [_objectSpread({}, action.data)];\n      console.log(std);\n      axios.post(urlHeader + \"Reglements/post\", ...std, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n      state.dataReglements = [...state.dataReglements, std[0]];\n      return Object.assign({}, state, state.dataReglements);\n\n    case FETCH_REGLEMENTS:\n      state.dataReglements = [];\n      state.dataReglements = [...action.data];\n      return Object.assign({}, state, state.dataReglements);\n\n    case UPDATE_REGLEMENTS:\n      // console.log(action.data)\n      if (action.data !== null) {\n        const std1 = state.dataReglements.filter(e => {\n          return e.numReglement !== action.data[0].numReglement;\n        });\n        const sto1 = action.data;\n        state.dataReglements = [...std1, ...sto1];\n        axios.post(urlHeader + \"Reglements/put/\" + action.data[0].numReglement, sto1, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        }).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      }\n\n      return Object.assign({}, state, state.dataReglements);\n\n    default:\n      return state;\n  }\n};\n\nexport default ReglementsReducers;","map":{"version":3,"sources":["/home/files/hybrid_pojects/SALEM/frontend/src/reducers/ReglementReducers.js"],"names":["axios","ADD_REGLEMENTS","FETCH_REGLEMENTS","UPDATE_REGLEMENTS","urlHeader","initState","dataReglements","ReglementsReducers","state","action","type","console","log","data","std","post","headers","then","h","catch","err","Object","assign","std1","filter","e","numReglement","sto1"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,cAAR,EAAwBC,gBAAxB,EAA0CC,iBAA1C,QAAkE,2BAAlE;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AAEA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,cAAc,EAAE,CACf;AACA;AACA;AACA;AACA;AACA;AANe;AADC,CAAlB;;AAWA,MAAMC,kBAAkB,GAAG,CAACC,KAAK,GAAGH,SAAT,EAAoBI,MAApB,KAA+B;AACzD,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKT,cAAL;AACCU,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,IAAnB;AACA,YAAMC,GAAG,GAAG,mBACRL,MAAM,CAACI,IADC,EAAZ;AAGAF,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AAEAd,MAAAA,KAAK,CAACe,IAAN,CACCX,SAAS,GAAC,iBADX,EAEC,GAAGU,GAFJ,EAGC;AACQE,QAAAA,OAAO,EAAE;AACT,0BAAgB;AADP;AADjB,OAHD,EAQEC,IARF,CAQOC,CAAC,IAAIP,OAAO,CAACC,GAAR,CAAYM,CAAZ,CARZ,EAQ4BC,KAR5B,CAQkCC,GAAG,IAAIT,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCQ,GAAhC,CARzC;AASAZ,MAAAA,KAAK,CAACF,cAAN,GAAuB,CACtB,GAAGE,KAAK,CAACF,cADa,EACGQ,GAAG,CAAC,CAAD,CADN,CAAvB;AAGA,aAAOO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AACD,SAAKJ,gBAAL;AACCM,MAAAA,KAAK,CAACF,cAAN,GAAuB,EAAvB;AACCE,MAAAA,KAAK,CAACF,cAAN,GAAuB,CACrB,GAAGG,MAAM,CAACI,IADW,CAAvB;AAGA,aAAOQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AAEF,SAAKH,iBAAL;AACC;AACA,UAAGM,MAAM,CAACI,IAAP,KAAgB,IAAnB,EAAwB;AACvB,cAAMU,IAAI,GAAGf,KAAK,CAACF,cAAN,CAAqBkB,MAArB,CAA4BC,CAAC,IAAI;AAC7C,iBAAOA,CAAC,CAACC,YAAF,KAAmBjB,MAAM,CAACI,IAAP,CAAY,CAAZ,EAAea,YAAzC;AACA,SAFY,CAAb;AAGA,cAAMC,IAAI,GAAGlB,MAAM,CAACI,IAApB;AACAL,QAAAA,KAAK,CAACF,cAAN,GAAuB,CACtB,GAAGiB,IADmB,EAEtB,GAAGI,IAFmB,CAAvB;AAIA3B,QAAAA,KAAK,CAACe,IAAN,CAAWX,SAAS,GAAC,iBAAV,GAA8BK,MAAM,CAACI,IAAP,CAAY,CAAZ,EAAea,YAAxD,EACAC,IADA,EAEA;AACQX,UAAAA,OAAO,EAAE;AACf,sBAAU,kBADK;AAET,4BAAgB;AAFP;AADjB,SAFA,EAQEC,IARF,CAQQQ,CAAD,IAAOd,OAAO,CAACC,GAAR,CAAYa,CAAZ,CARd,EAQ8BN,KAR9B,CAQoCC,GAAG,IAAIT,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCQ,GAAhC,CAR3C;AASC;;AAGF,aAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,KAAlB,EAAyBA,KAAK,CAACF,cAA/B,CAAP;;AAED;AACC,aAAOE,KAAP;AAvDF;AAyDA,CA1DD;;AA4DA,eAAeD,kBAAf","sourcesContent":["import axios from 'axios';\nimport {ADD_REGLEMENTS, FETCH_REGLEMENTS, UPDATE_REGLEMENTS} from '../Actions/typesReglement';\nimport {urlHeader} from '../Actions/config';\n\nconst initState = {\n\tdataReglements: [\n\t\t// {\n\t\t// \tNumReglement:1,\n\t\t// \tMontantReglement: 30000,\n\t\t// \tEtatReglement: \"1\",\n\t\t// \tAnneeReglement: \"2019\"\n\t\t// }\n\t]\n}\n\nconst ReglementsReducers = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_REGLEMENTS:\n\t\t\tconsole.log('ADD_REGLEMENTS');\n\t\t\tconsole.log(action.data);\n\t\t\tconst std = [{\n\t\t\t\t...action.data\n\t\t\t}]\n\t\t\tconsole.log(std);\n\n\t\t\taxios.post(\n\t\t\t\turlHeader+\"Reglements/post\",\n\t\t\t\t...std,\n\t\t\t\t{\n            headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n            }\n          }\n\t\t\t).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\tstate.dataReglements = [\n\t\t\t\t...state.dataReglements, std[0]\n\t\t\t];\n\t\t\treturn Object.assign({}, state, state.dataReglements);\n\t\tcase FETCH_REGLEMENTS:\n\t\t\tstate.dataReglements = [];\n\t\t  state.dataReglements = [\n\t\t    ...action.data\n\t\t  ];\n\t\t  return Object.assign({}, state, state.dataReglements);\n\n\t\tcase UPDATE_REGLEMENTS:\n\t\t\t// console.log(action.data)\n\t\t\tif(action.data !== null){\n\t\t\t\tconst std1 = state.dataReglements.filter(e => {\n\t\t\t\t\treturn e.numReglement !== action.data[0].numReglement;\n\t\t\t\t});\n\t\t\t\tconst sto1 = action.data;\n\t\t\t\tstate.dataReglements = [\n\t\t\t\t\t...std1,\n\t\t\t\t\t...sto1\n\t\t\t\t];\n\t\t\t\taxios.post(urlHeader+\"Reglements/put/\" + action.data[0].numReglement,\n\t\t\t\tsto1,\n\t\t\t\t{\n            headers: {\n\t\t\t\t\t\t'Accept': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded'\n            }\n          }\n\t\t\t\t).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\t\t}\n\n\n\t\t\treturn Object.assign({}, state, state.dataReglements);\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default ReglementsReducers;\n"]},"metadata":{},"sourceType":"module"}